{"version":3,"sources":["webpack:///./src/components/shoppingcart.vue?7567","webpack:///./src/views/UserCart.vue","webpack:///./src/components/shoppingcart.vue","webpack:///./src/components/shoppingcart.vue?bd58","webpack:///./src/views/UserCart.vue?6ec1","webpack:///./src/views/UserCart.vue?0804"],"names":["class","_createElementVNode","style","href","role","_hoisted_15","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","$options","_hoisted_5","_hoisted_6","_createElementBlock","_Fragment","$data","item","key","id","_hoisted_7","backgroundImage","imagesUrl","_hoisted_8","title","_hoisted_9","origin_price","_hoisted_10","price","_hoisted_11","disabled","status","loadingItem","_hoisted_14","_createVNode","_component_Pagination","pages","onUpdataPage","_component_shoppingcartModel","ref","_component_Loading","active","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","_ctx","props","shoppingcart","Object","defaule","data","modal","tempProduct","methods","mixins","modalMixin","__exports__","productsdata","pagination","isLoading","components","Pagination","shoppingcartModel","getproducts","page","this","api","$http","get","then","res","console","log","success","products","getproduct","$router","push","attcart","productdata","product_id","qty","post","OpenCartModel","productComponent","$refs","showModel","created","render"],"mappings":"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","file":"js/chunk-506b37f0.98d5b91c.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./shoppingcart.vue?vue&type=style&index=0&id=3f78c73a&lang=css\"","<template>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row mt-4\">\r\n            <div class=\"col-md table-responsive\">\r\n                <div class=\"text-end\">\r\n                    <button class=\"btn btn-primary\" type=\"button\" @click.prevent=\"OpenCartModel()\">\r\n                        購物車清單\r\n                    </button>\r\n                </div>\r\n                <table class=\"table align-middle table-hover \">\r\n                    <thead>\r\n                        <tr class=\"tabletr\">\r\n                            <th>圖片</th>\r\n                            <th>商品名稱</th>\r\n                            <th>價格</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\" item in productsdata\" :key=\"item.id\" class=\"tabletr\">\r\n                            <td style=\"width: 200px\">\r\n                                <div style=\"height: 100px; background-size: cover; background-position: center\" :style=\"{backgroundImage: `url(${item.imagesUrl})`}\"></div>\r\n                            </td>\r\n                            <td><a href=\"#\" class=\"text-dark\">{{item.title}}</a></td>\r\n                            <td>\r\n                                <!-- <div class=\"h5\"> 元</div> -->\r\n                                <del class=\"h6\">原價 {{item.origin_price}}元</del>\r\n                                <div class=\"h5\" >現在只要 {{item.price}}元</div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"btn-group btn-group-sm\">\r\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\" @click.prevent=\"getproduct(item.id)\">\r\n                                        查看更多\r\n                                    </button>\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"attcart(item.id)\" :disabled=\"(this.status.loadingItem === item.id)\" style=\" align-items: center;display: flex;\">\r\n                                        <div class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\" v-if=\"(this.status.loadingItem === item.id)\">\r\n                                            <span class=\"visually-hidden\">Loading...</span>\r\n                                        </div>\r\n                                        加到購物車\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Pagination :pages=\"pagination\" @updata-page = \"getproducts\"></Pagination>\r\n    <shoppingcartModel ref=\"shoppingcartModel\"></shoppingcartModel>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n<style>\r\n\r\n    .tabletr td:nth-child(3),.tabletr th:nth-child(3){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n    .tabletr td:nth-child(4) div, .tabletr th:nth-child(4){\r\n        flex-wrap: wrap;\r\n    }\r\n@media(max-width: 414px){\r\n    .tabletr td:nth-child(3),.tabletr th:nth-child(3){\r\n        display: none;\r\n    }\r\n    .tabletr td:nth-child(1),.tabletr th:nth-child(1){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n}\r\n\r\n</style>\r\n<script>\r\nimport Pagination from '../components/Pagination.vue';\r\nimport shoppingcartModel from '../components/shoppingcart.vue';\r\nexport default {\r\n    data () {\r\n        return {\r\n            productsdata: [],\r\n            pagination: {},\r\n            isLoading: false,\r\n            status: {\r\n                loadingItem: ''\r\n            }\r\n        };\r\n    },\r\n    components: {\r\n        Pagination,\r\n        shoppingcartModel\r\n    },\r\n    methods: {\r\n        getproducts (page) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.isLoading = false;\r\n                        this.productsdata = res.data.products;\r\n                        this.pagination = res.data.pagination;\r\n                    }\r\n                });\r\n        },\r\n        getproduct (id) {\r\n            this.$router.push(`/user/product/${id}`);\r\n        },\r\n        attcart (id) {\r\n            const productdata = {\r\n                product_id: id,\r\n                qty: 1\r\n            };\r\n            this.status.loadingItem = id;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n            this.$http.post(api, { data: productdata })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.status.loadingItem = '';\r\n                        console.log(res);\r\n                    }\r\n                });\r\n        },\r\n        OpenCartModel () {\r\n            const productComponent = this.$refs.shoppingcartModel;\r\n            productComponent.showModel();\r\n        }\r\n    },\r\n    created () {\r\n        this.getproducts();\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"\r\n        ref=\"modal\">\r\n        <div class=\"modal-dialog modal-dialog-centered modal-xl\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-danger\">\r\n                    <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">刪除產品</h5>\r\n                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"\r\n                        aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row mt-4\">\r\n                            <div class=\"col\">\r\n                                <div class=\"sticky-top\">\r\n                                    <table class=\"table align-middle\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th></th>\r\n                                                <th>品名</th>\r\n                                                <th style=\"text-align: center;\">數量</th>\r\n                                                <th style=\"text-align: end; padding-right: 25px;\">單價</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr class=\"tabletrmodel\">\r\n                                                <td>\r\n                                                    <button type=\"button\" class=\"btn btn-outline-danger btn-sm\">\r\n                                                        <i class=\"bi bi-x\"></i>\r\n                                                    </button>\r\n                                                </td>\r\n                                                <td>\r\n                                                    標題\r\n                                                    <div class=\"text-success\">\r\n                                                        已套用優惠券\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <div class=\"input-group input-group-sm\">\r\n                                                        <input type=\"number\" class=\"form-control\" style=\"text-align: center;\">\r\n                                                        <!-- <div class=\"input-group-text\">/ 單位</div> -->\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td class=\"text-end\">\r\n                                                    <small class=\"text-success\">折扣價：</small>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                        <tfoot>\r\n                                            <tr>\r\n                                                <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                                                <td class=\"text-end\">199</td>\r\n                                            </tr>\r\n                                            <tr>\r\n                                                <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n                                                <td class=\"text-end text-success\">199</td>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                    </table>\r\n                                    <div class=\"input-group mb-3 input-group-sm\">\r\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\">\r\n                                        <div class=\"input-group-append\">\r\n                                            <button class=\"btn btn-outline-secondary\" type=\"button\">\r\n                                                套用優惠碼\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\"\r\n                        @click.prevent=\"$emit('del-product', tempProduct.id)\">確定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<style>\r\n    .tabletrmodel td:nth-child(1){\r\n        width: 5%;\r\n    }\r\n    .tabletrmodel td:nth-child(1) button{\r\n        height: 16px;\r\n    }\r\n    .tabletrmodel td:nth-child(2){\r\n        width: 30%;\r\n    }\r\n    .tabletrmodel td:nth-child(3){\r\n        width: 10%;\r\n    }\r\n    .tabletrmodel td:nth-child(4){\r\n        width: 20%;\r\n    }\r\n    @media(max-width: 414px){\r\n        .tabletrmodel td:nth-child(3){\r\n        width: 20%;\r\n    }\r\n}\r\n    input[type=number]::-webkit-outer-spin-button,\r\n    input[type=number]::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    }\r\n</style>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        shoppingcart: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {}\r\n        };\r\n    },\r\n    methods () {\r\n\r\n    },\r\n    mixins: [modalMixin]\r\n};\r\n</script>\r\n","import { render } from \"./shoppingcart.vue?vue&type=template&id=3f78c73a\"\nimport script from \"./shoppingcart.vue?vue&type=script&lang=js\"\nexport * from \"./shoppingcart.vue?vue&type=script&lang=js\"\n\nimport \"./shoppingcart.vue?vue&type=style&index=0&id=3f78c73a&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./UserCart.vue?vue&type=template&id=3751ba02\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=3751ba02&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserCart.vue?vue&type=style&index=0&id=3751ba02&lang=css\""],"sourceRoot":""}