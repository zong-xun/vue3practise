{"version":3,"sources":["webpack:///./src/views/products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/views/products.vue?4642","webpack:///./src/views/products.vue?36f2","webpack:///./src/components/DelModal.vue","webpack:///./src/components/DelModal.vue?813f"],"names":["class","_createElementVNode","width","_hoisted_10","_hoisted_13","_hoisted_1","type","onClick","$options","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","$data","item","key","id","category","title","_hoisted_4","_ctx","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_Pagination","pages","onUpdataPage","_component_ProductModal","ref","product","onUpdataProduct","_component_DelModa","DelProductData","onDelProduct","_component_Loading","active","tabindex","aria-labelledby","aria-hidden","role","data-bs-dismiss","aria-label","for","modeltitle","_hoisted_9","_hoisted_11","placeholder","tempProduct","imageUrl","_hoisted_12","onChange","imagesUrl","_hoisted_14","image","alt","src","splice","length","push","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","unit","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","description","_hoisted_35","_hoisted_36","content","_hoisted_37","_hoisted_38","true-value","false-value","_hoisted_39","_hoisted_40","_hoisted_41","props","Object","defaule","watch","undefined","this","data","modal","rawmaterial","mixins","modalMixin","methods","uploadFile","$refs","fileinput","files","formdata","FormData","append","api","$http","post","then","res","success","__exports__","products","pagination","isNew","isLoading","components","ProductModal","DelModa","Pagination","inject","getproducts","page","get","openModel","productComponent","productModal","showModel","OpenDelModel","updatedProducts","httpMethod","response","hideModel","$httpMessageState","delProductfn","delete","console","log","created","render","istitle","couponData","emits"],"mappings":"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","file":"js/chunk-ee44cf18.a48d06f7.js","sourcesContent":["<template>\r\n    <div class=\"text-end\">\r\n        <button class=\"btn btn-primary\" type=\"button\" @click.prevent=\"openModel(true)\">\r\n            增加一個產品\r\n        </button>\r\n    </div>\r\n    <table class=\"table mt-4 table-striped\">\r\n        <thead>\r\n            <tr class=\"tabledisable\">\r\n                <th width=\"120\">分類</th>\r\n                <th>產品名稱</th>\r\n                <th width=\"120\">原價</th>\r\n                <th width=\"120\">售價</th>\r\n                <th width=\"100\">是否啟用</th>\r\n                <th width=\"200\">編輯</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"item in products\" :key = \"item.id\"  class=\"tabledisable\">\r\n                <td>{{item.category}}</td>\r\n                <td>{{item.title}}</td>\r\n                <td class=\"text-right\">\r\n                    {{$filters.currency(item.origin_price)}}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                    {{$filters.currency(item.price)}}\r\n                </td>\r\n                <td>\r\n                    <span class=\"text-success\" v-if=\"item.is_enabled == '1'\">啟用</span>\r\n                    <span class=\"text-muted\" v-else>未啟用</span>\r\n                </td>\r\n                <td>\r\n                    <div class=\"btn-group\">\r\n                        <button class=\"btn btn-outline-primary btn-sm\"  @click.prevent=\"openModel(false,item)\"><i class=\"bi bi-pencil\"></i></button>\r\n                        <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"OpenDelModel(item)\"><i class=\"bi bi-trash3\"></i></button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @updata-page = \"getproducts\"></Pagination>\r\n    <ProductModal ref=\"productModal\" :product=\"tempProduct\" @updata-product=\"updatedProducts\"></ProductModal>\r\n    <DelModa ref=\"OpenDelModel\" :DelProductData=\"tempProduct\" @del-product=\"delProductfn\"></DelModa>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n<style>\r\n    @media(max-width: 414px){\r\n        .tabledisable td:nth-child(3),.tabledisable th:nth-child(3){\r\n            display:none;\r\n        }\r\n    }\r\n</style>\r\n<script>\r\nimport Pagination from '../components/Pagination.vue';\r\nimport ProductModal from '../components/ProductModal.vue';\r\nimport DelModa from '../components/DelModal.vue';\r\nexport default {\r\n    data () {\r\n        return {\r\n            products: [],\r\n            pagination: {},\r\n            tempProduct: {},\r\n            isNew: false,\r\n            isLoading: false\r\n        };\r\n    },\r\n    components: {\r\n        ProductModal,\r\n        DelModa,\r\n        Pagination\r\n    },\r\n    inject: ['emitter'],\r\n    methods: {\r\n        getproducts (page = 1) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    this.isLoading = false;\r\n                    if (res.data.success) {\r\n                        this.products = res.data.products;\r\n                        this.pagination = res.data.pagination;\r\n                    }\r\n                });\r\n        },\r\n        openModel (isNew, item) {\r\n            if (isNew) {\r\n                this.tempProduct = {};\r\n            } else {\r\n                this.tempProduct = { ...item };\r\n            }\r\n            this.isNew = isNew;\r\n            const productComponent = this.$refs.productModal;\r\n            productComponent.showModel();\r\n        },\r\n        OpenDelModel (item) {\r\n            const productComponent = this.$refs.OpenDelModel;\r\n            this.tempProduct = { ...item };\r\n            productComponent.showModel();\r\n        },\r\n        updatedProducts (item) {\r\n            this.tempProduct = item;\r\n            this.isLoading = true;\r\n            // 新增\r\n            let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\r\n            let httpMethod = 'post';\r\n            // 編輯\r\n            if (!this.isNew) {\r\n                api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n                httpMethod = 'put';\r\n            }\r\n            const productComponent = this.$refs.productModal;\r\n                this.$http[httpMethod](api, { data: this.tempProduct })\r\n                .then((response) => {\r\n                    this.isLoading = false;\r\n                    productComponent.hideModel();\r\n                    if (response.data.success) {\r\n                        this.getproducts();\r\n                        if (!this.isNew) {\r\n                            this.$httpMessageState(response, '編輯成功');\r\n                        } else {\r\n                            this.$httpMessageState(response, '商品建立成功');\r\n                        }\r\n                    } else {\r\n                        if (!this.isNew) {\r\n                            this.$httpMessageState(response, '編輯失敗');\r\n                        } else {\r\n                            this.$httpMessageState(response, '商品建立失敗');\r\n                        }\r\n                    }\r\n                });\r\n        },\r\n        delProductfn (item) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item}`;\r\n            const productComponent = this.$refs.OpenDelModel;\r\n                this.$http.delete(api, { data: this.tempProduct })\r\n                .then((response) => {\r\n                    console.log(response);\r\n                    this.isLoading = false;\r\n                    productComponent.hideModel();\r\n                    if (response.data.success) {\r\n                        this.getproducts();\r\n                        this.$httpMessageState(response, '刪除成功');\r\n                    } else {\r\n                        this.$httpMessageState(response, '刪除失敗');\r\n                    }\r\n                });\r\n        }\r\n    },\r\n    created () {\r\n        this.getproducts();\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"\r\n        ref=\"modal\">\r\n        <!-- 請同學自行新增 v-model -->\r\n        <div class=\"modal-dialog modal-xl modal-dialog-centered\" role=\"document\">\r\n            <div class=\"modal-content border-0\">\r\n                <div class=\"modal-header bg-dark text-white\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                        <span>{{this.modeltitle}}產品</span>\r\n                    </h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-4\">\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"請輸入圖片連結\"\r\n                                    v-model=\"this.tempProduct.imageUrl\">\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                                    <i class=\"fas fa-spinner fa-spin\"></i>\r\n                                </label>\r\n                                <input type=\"file\" id=\"customFile\" class=\"form-control\" @change=\"uploadFile\"\r\n                                    ref=\"fileinput\">\r\n                            </div>\r\n                            <!-- 延伸技巧，多圖 -->\r\n                            <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\r\n                                <div v-for=\"(image, key) in tempProduct.imagesUrl\" class=\"mb-3 input-group\" :key=\"key\">\r\n                                    <img class=\"img-fluid\" alt=\"\" :src=\"image\">\r\n                                    <input type=\"url\" class=\"form-control form-control\"\r\n                                        v-model=\"tempProduct.imagesUrl[key]\" placeholder=\"請輸入連結\" />\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                                        @click=\"tempProduct.imagesUrl.splice(key, 1)\">\r\n                                        移除\r\n                                    </button>\r\n                                </div>\r\n                                <div v-if=\"\r\n                                    tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1] || !tempProduct.imagesUrl.length\r\n                                \">\r\n                                    <button class=\"btn btn-outline-primary btn-sm d-block w-100\"\r\n                                        @click=\"tempProduct.imagesUrl.push('')\">\r\n                                        新增圖片\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-8\">\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"title\" class=\"form-label\">標題</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\"\r\n                                    v-model=\"this.tempProduct.title\">\r\n                            </div>\r\n\r\n                            <div class=\"row gx-2\">\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"category\" class=\"form-label\">分類</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入分類\"\r\n                                        v-model=\"this.tempProduct.category\">\r\n                                </div>\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"price\" class=\"form-label\">單位</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\"\r\n                                        v-model=\"this.tempProduct.unit\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row gx-2\">\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                                    <input type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\"\r\n                                        v-model=\"this.tempProduct.origin_price\">\r\n                                </div>\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"price\" class=\"form-label\">售價</label>\r\n                                    <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\"\r\n                                        v-model=\"this.tempProduct.price\">\r\n                                </div>\r\n                            </div>\r\n                            <hr>\r\n\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\"\r\n                                    v-model=\"this.tempProduct.description\"></textarea>\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"content\" placeholder=\"請輸入產品說明內容\"\r\n                                    v-model=\"this.tempProduct.content\"></textarea>\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\"\r\n                                        id=\"is_enabled\" v-model=\"this.tempProduct.is_enabled\">\r\n                                    <label class=\"form-check-label\" for=\"is_enabled\">\r\n                                        是否啟用\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-primary\"\r\n                        @click.prevent=\"$emit('updata-product', tempProduct)\">確認</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        product: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        product () {\r\n            if (this.product.title === undefined) {\r\n                this.modeltitle = '新增';\r\n            } else {\r\n                this.modeltitle = '編輯';\r\n            }\r\n            this.tempProduct = this.product;\r\n            // 多圖範例\r\n            if (!this.tempProduct.imagesUrl) {\r\n                this.tempProduct.imagesUrl = [];\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {},\r\n            rawmaterial: {},\r\n            modeltitle: '新增'\r\n        };\r\n    },\r\n    mixins: [modalMixin],\r\n    methods: {\r\n        uploadFile () {\r\n            const uploadFile = this.$refs.fileinput.files[0];\r\n            const formdata = new FormData();\r\n            formdata.append('file-to-upload', uploadFile);\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n            this.$http.post(api, formdata)\r\n                .then((res) => {\r\n                    if (res.data.success) {\r\n                        this.tempProduct.imagesUrl.push(res.data.imageUrl);\r\n                        // this.tempProduct.imageUrl = res.data.imageUrl;\r\n                    }\r\n                });\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=54b19760\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./products.vue?vue&type=template&id=68f28bf6\"\nimport script from \"./products.vue?vue&type=script&lang=js\"\nexport * from \"./products.vue?vue&type=script&lang=js\"\n\nimport \"./products.vue?vue&type=style&index=0&id=68f28bf6&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./products.vue?vue&type=style&index=0&id=68f28bf6&lang=css\"","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-danger\">\r\n                    <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\" v-if=\"(this.istitle === true)\">刪除產品</h5>\r\n                    <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\" v-if=\"(this.istitle === false)\">刪除優惠卷</h5>\r\n                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <span v-if=\"(this.istitle === true)\">是否確定要刪除【{{this.tempProduct.title}}】</span>\r\n                    <span v-if=\"(this.istitle === false)\">是否確定要刪除【{{this.couponData.title}}】優惠卷</span>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\"  @click.prevent=\"$emit('del-product',tempProduct.id)\" v-if=\"(this.istitle === true)\">確定</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\"  @click.prevent=\"$emit('del-item',couponData.id)\" v-if=\"(this.istitle === false)\">確定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        DelProductData: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        },\r\n        item: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        DelProductData () {\r\n            this.tempProduct = this.DelProductData;\r\n            this.istitle = true;\r\n            console.log(this.DelProductData.title);\r\n        },\r\n        item () {\r\n            this.couponData = this.item;\r\n            this.istitle = false;\r\n            console.log(this.item);\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {},\r\n            couponData: {},\r\n            istitle: true\r\n        };\r\n    },\r\n    methods () {\r\n\r\n    },\r\n    emits: ['del-item', 'del-product'],\r\n    mixins: [modalMixin]\r\n};\r\n</script>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=aa31c56c\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}