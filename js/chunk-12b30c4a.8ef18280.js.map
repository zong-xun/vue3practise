{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?2044","webpack:///./src/views/UserCart.vue?25b1","webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1"],"names":["aria-label","class","_createElementVNode","aria-hidden","_hoisted_4","_hoisted_8","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","href","onClick","$options","_Fragment","$props","total_pages","page","current_page","key","_hoisted_7","data","pagesdata","props","methods","updatePage","pagenextpre","this","pages","has_pre","$emit","has_next","console","log","nextpage","prepage","__exports__","render","style","role","_hoisted_14","_hoisted_5","$data","item","id","_hoisted_6","backgroundImage","imagesUrl","title","origin_price","_hoisted_9","price","_hoisted_10","type","disabled","status","loadingItem","_hoisted_13","_createVNode","_component_Pagination","onUpdataPage","_component_Loading","active","productsdata","pagination","isLoading","components","Pagination","getproducts","api","$http","get","then","res","success","products","getproduct","$router","push","attcart","productdata","product_id","qty","post","created"],"mappings":"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","file":"js/chunk-12b30c4a.8ef18280.js","sourcesContent":["<template>\r\n    <nav aria-label=\"Page navigation example\">\r\n        <ul class=\"pagination justify-content-center\">\r\n            <li class=\"page-item\">\r\n                <a class=\"page-link\" href=\"#\" aria-label=\"Previous\" @click.prevent=\"updatePage('pre')\">\r\n                    <span aria-hidden=\"true\">&laquo;</span>\r\n                </a>\r\n            </li>\r\n            <li class=\"page-item\" v-for=\"page in pages.total_pages\" :key=\"page\" :class=\"{'active':page === pages.current_page}\">\r\n                <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">\r\n                {{page}}\r\n                </a>\r\n            </li>\r\n            <li class=\"page-item\">\r\n                <a class=\"page-link\" href=\"#\" aria-label=\"Next\" @click.prevent=\"updatePage('next')\">\r\n                    <span aria-hidden=\"true\">&raquo;</span>\r\n                </a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n</template>\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n    data () {\r\n        return {\r\n            pagesdata: {}\r\n        };\r\n    },\r\n    props: ['pages'],\r\n    methods: {\r\n        updatePage (pagenextpre) {\r\n            this.pagesdata = this.pages;\r\n            if (pagenextpre === 'pre') {\r\n                if (this.pagesdata.has_pre) {\r\n                    this.$emit('updata-page', this.pagesdata.current_page - 1);\r\n                }\r\n            } else if (pagenextpre === 'next') {\r\n                if (this.pagesdata.has_next) {\r\n                    this.$emit('updata-page', this.pagesdata.current_page + 1);\r\n                }\r\n            } else {\r\n                console.log(pagenextpre);\r\n                this.$emit('updata-page', pagenextpre);\r\n            }\r\n        },\r\n        nextpage () {\r\n\r\n        },\r\n        prepage () {\r\n\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./Pagination.vue?vue&type=template&id=7a0c2ca0\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserCart.vue?vue&type=style&index=0&id=2c3f62fe&lang=css\"","<template>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row mt-4\">\r\n            <div class=\"col-md table-responsive\">\r\n                <table class=\"table align-middle table-hover \">\r\n                    <thead>\r\n                        <tr class=\"tabletr\">\r\n                            <th>圖片</th>\r\n                            <th>商品名稱</th>\r\n                            <th>價格</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\" item in productsdata\" :key=\"item.id\" class=\"tabletr\">\r\n                            <td style=\"width: 200px\">\r\n                                <div style=\"height: 100px; background-size: cover; background-position: center\" :style=\"{backgroundImage: `url(${item.imagesUrl})`}\"></div>\r\n                            </td>\r\n                            <td><a href=\"#\" class=\"text-dark\">{{item.title}}</a></td>\r\n                            <td>\r\n                                <!-- <div class=\"h5\"> 元</div> -->\r\n                                <del class=\"h6\">原價 {{item.origin_price}}元</del>\r\n                                <div class=\"h5\" >現在只要 {{item.price}}元</div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"btn-group btn-group-sm\">\r\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\" @click.prevent=\"getproduct(item.id)\">\r\n                                        查看更多\r\n                                    </button>\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"attcart(item.id)\" :disabled=\"(this.status.loadingItem === item.id)\" style=\" align-items: center;display: flex;\">\r\n                                        <div class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\" v-if=\"(this.status.loadingItem === item.id)\">\r\n                                            <span class=\"visually-hidden\">Loading...</span>\r\n                                        </div>\r\n                                        加到購物車\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Pagination :pages=\"pagination\" @updata-page = \"getproducts\"></Pagination>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n<style>\r\n    .tabletr td:nth-child(1),th:nth-child(1){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n    .tabletr td:nth-child(3),th:nth-child(3){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n    .tabletr td:nth-child(4) div,th:nth-child(4){\r\n        flex-wrap: wrap;\r\n    }\r\n@media(max-width: 414px){\r\n    .tabletr td:nth-child(3),th:nth-child(3){\r\n        display: none;\r\n    }\r\n}\r\n\r\n</style>\r\n<script>\r\nimport Pagination from '../components/Pagination.vue';\r\nexport default {\r\n    data () {\r\n        return {\r\n            productsdata: [],\r\n            pagination: {},\r\n            isLoading: false,\r\n            status: {\r\n                loadingItem: ''\r\n            }\r\n        };\r\n    },\r\n    components: {\r\n        Pagination\r\n    },\r\n    methods: {\r\n        getproducts (page) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.isLoading = false;\r\n                        this.productsdata = res.data.products;\r\n                        this.pagination = res.data.pagination;\r\n                    }\r\n                });\r\n        },\r\n        getproduct (id) {\r\n            this.$router.push(`/user/product/${id}`);\r\n        },\r\n        attcart (id) {\r\n            const productdata = {\r\n                product_id: id,\r\n                qty: 1\r\n            };\r\n            this.status.loadingItem = id;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n            this.$http.post(api, { data: productdata })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.status.loadingItem = '';\r\n                        console.log(res);\r\n                    }\r\n                });\r\n        }\r\n    },\r\n    created () {\r\n        this.getproducts();\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=2c3f62fe\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=2c3f62fe&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}