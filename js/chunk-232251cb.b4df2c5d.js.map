{"version":3,"sources":["webpack:///./src/components/shoppingcart.vue?d27c","webpack:///./src/views/UserCart.vue","webpack:///./src/views/UserCart.vue?6ec1","webpack:///./src/views/UserCart.vue?9aca","webpack:///./src/components/shoppingcart.vue","webpack:///./src/components/shoppingcart.vue?bd58"],"names":["class","_createElementVNode","_hoisted_5","style","href","role","_hoisted_17","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","type","onClick","$options","_hoisted_7","_hoisted_8","_createElementBlock","_Fragment","$data","item","key","id","_hoisted_9","backgroundImage","imagesUrl","_hoisted_10","title","_hoisted_11","_ctx","currency","origin_price","_hoisted_12","price","_hoisted_13","disabled","status","loadingItem","_hoisted_16","_hoisted_19","_createVNode","_component_Pagination","pages","onUpdataPage","_component_shoppingcartModel","ref","shoppingcart","onCartProduct","_component_Loading","active","data","productsdata","pagination","isLoading","cartdata","components","Pagination","shoppingcartModel","methods","getproducts","page","this","api","$http","get","then","res","console","log","success","products","getproduct","$router","push","attcart","productdata","product_id","qty","post","OpenCartModel","productComponent","$refs","showModel","closeCartModel","hideModel","created","__exports__","render","tabindex","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","_hoisted_14","colspan","_hoisted_6","shoppingcartdata","carts","product","final_total","total","min","onChange","unit","_hoisted_20","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_28","placeholder","_hoisted_29","_hoisted_30","_hoisted_31","props","Object","defaule","watch","coupon_code","modal","delonecart","delete","getcardata","updataCart","cart","put","addCouponCode","Codedata","code","emits","mixins","modalMixin"],"mappings":"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","file":"js/chunk-232251cb.b4df2c5d.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./shoppingcart.vue?vue&type=style&index=0&id=22eaca36&lang=css\"","<template>\r\n    <div class=\"container-fluid\">\r\n        <div class=\"row mt-4\">\r\n            <div class=\"col-md table-responsive\">\r\n                <div class=\"text-end\">\r\n                    <button class=\"btn btn-primary\" type=\"button\" @click.prevent=\"OpenCartModel()\" style=\" font-size: 29px;padding: 0.1rem 0.6rem;\">\r\n                        <i class=\"bi bi-cart4\"></i>\r\n                    </button>\r\n                </div>\r\n                <table class=\"table align-middle table-hover \">\r\n                    <thead>\r\n                        <tr class=\"tabletr\">\r\n                            <th>圖片</th>\r\n                            <th>商品名稱</th>\r\n                            <th>價格</th>\r\n                            <th></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr v-for=\" item in productsdata\" :key=\"item.id\" class=\"tabletr\">\r\n                            <td style=\"width: 200px\">\r\n                                <div style=\"height: 100px; background-size: cover; background-position: center\" :style=\"{backgroundImage: `url(${item.imagesUrl})`}\"></div>\r\n                            </td>\r\n                            <td><a href=\"#\" class=\"text-dark\">{{item.title}}</a></td>\r\n                            <td>\r\n                                <!-- <div class=\"h5\"> 元</div> -->\r\n                                <del class=\"h6\">原價 {{$filters.currency(item.origin_price)}}元</del>\r\n                                <div class=\"h5\" >現在只要 {{$filters.currency(item.price)}}元</div>\r\n                            </td>\r\n                            <td>\r\n                                <div class=\"btn-group btn-group-sm\">\r\n                                    <button type=\"button\" class=\"btn btn-outline-secondary\" @click.prevent=\"getproduct(item.id)\" style=\"border-top-right-radius: 0.25rem; border-bottom-right-radius: 0.25rem;\">\r\n                                        查看更多\r\n                                    </button>\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\" @click.prevent=\"attcart(item.id)\" :disabled=\"(this.status.loadingItem === item.id)\" style=\" align-items: center;display: flex; justify-content: center;    border-top-left-radius: 0.25rem; border-bottom-left-radius: 0.25rem;\">\r\n                                        <div class=\"spinner-grow text-danger spinner-grow-sm\" role=\"status\" v-if=\"(this.status.loadingItem === item.id)\">\r\n                                            <span class=\"visually-hidden\">Loading...</span>\r\n                                        </div>\r\n                                        <i class=\"bi bi-cart-plus\"></i>\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Pagination :pages=\"pagination\" @updata-page = \"getproducts\"></Pagination>\r\n    <shoppingcartModel ref=\"shoppingcartModel\" :shoppingcart=\"cartdata\" @cart-product = \"closeCartModel\"></shoppingcartModel>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n<style>\r\n\r\n    .tabletr td:nth-child(3),.tabletr th:nth-child(3){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n    .tabletr td:nth-child(4) div, .tabletr th:nth-child(4){\r\n        flex-wrap: wrap;\r\n    }\r\n@media(max-width: 414px){\r\n    .tabletr td:nth-child(3),.tabletr th:nth-child(3){\r\n        display: none;\r\n    }\r\n    .tabletr td:nth-child(1),.tabletr th:nth-child(1){\r\n        max-width: 100px;\r\n        overflow-x: auto;\r\n    }\r\n}\r\n\r\n</style>\r\n<script>\r\nimport Pagination from '../components/Pagination.vue';\r\nimport shoppingcartModel from '../components/shoppingcart.vue';\r\nexport default {\r\n    data () {\r\n        return {\r\n            productsdata: [],\r\n            pagination: {},\r\n            isLoading: false,\r\n            status: {\r\n                loadingItem: ''\r\n            },\r\n            cartdata: {}\r\n        };\r\n    },\r\n    components: {\r\n        Pagination,\r\n        shoppingcartModel\r\n    },\r\n    methods: {\r\n        getproducts (page) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.isLoading = false;\r\n                        this.productsdata = res.data.products;\r\n                        this.pagination = res.data.pagination;\r\n                    }\r\n                });\r\n        },\r\n        getproduct (id) {\r\n            this.$router.push(`/user/product/${id}`);\r\n        },\r\n        attcart (id) {\r\n            const productdata = {\r\n                product_id: id,\r\n                qty: 1\r\n            };\r\n            this.status.loadingItem = id;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n            this.$http.post(api, { data: productdata })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.status.loadingItem = '';\r\n                        console.log(res);\r\n                    }\r\n                });\r\n        },\r\n        OpenCartModel () {\r\n            this.isLoading = true;\r\n            const productComponent = this.$refs.shoppingcartModel;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.cartdata = res.data.data;\r\n                        this.isLoading = false;\r\n                        productComponent.showModel();\r\n                    }\r\n                });\r\n        },\r\n        closeCartModel () {\r\n            const productComponent = this.$refs.shoppingcartModel;\r\n            productComponent.hideModel();\r\n        }\r\n    },\r\n    created () {\r\n        this.getproducts();\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./UserCart.vue?vue&type=template&id=54a31eeb\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=54a31eeb&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserCart.vue?vue&type=style&index=0&id=54a31eeb&lang=css\"","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"\r\n        ref=\"modal\">\r\n        <div class=\"modal-dialog modal-dialog-centered modal-lg\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-primary\">\r\n                    <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">購物清單</h5>\r\n                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"\r\n                        aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row mt-4\">\r\n                            <div class=\"col\">\r\n                                <div class=\"sticky-top\">\r\n                                    <table class=\"table align-middle\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th></th>\r\n                                                <th>品名</th>\r\n                                                <th style=\"text-align: center;\">數量</th>\r\n                                                <th style=\"text-align: end; padding-right: 25px;\">單價</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody v-for=\"item in this.shoppingcartdata.carts\" :key=\"item.id\">\r\n                                            <tr class=\"tabletrmodel\">\r\n                                                <td>\r\n                                                    <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"delonecart(item.id)\">\r\n                                                        <i class=\"bi bi-trash3\"></i>\r\n                                                    </button>\r\n                                                </td>\r\n                                                <td>\r\n                                                    {{item.product.title}}\r\n                                                    <div class=\"text-success\" v-if=\"this.shoppingcartdata.final_total !== this.shoppingcartdata.total\">\r\n                                                        已套用優惠券\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <div class=\"input-group input-group-sm\">\r\n                                                        <input type=\"number\" class=\"form-control\" style=\"text-align: center;\" v-model.number=\"item.qty\" min=\"1\" @change=\"updataCart(item)\" :disabled=\"(item.id === status.loadingItem)\">\r\n                                                        <div class=\"input-group-text\">{{ item.product.unit }}</div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td class=\"text-end\">\r\n                                                    <span v-if=\"this.shoppingcartdata.final_total === this.shoppingcartdata.total\">{{$filters.currency(item.final_total)}}</span>\r\n                                                    <small class=\"text-success\" v-if=\"this.shoppingcartdata.final_total !== this.shoppingcartdata.total\">折扣價：{{$filters.currency(item.final_total)}}</small>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                        <tfoot>\r\n                                            <tr>\r\n                                                <td colspan=\"3\" class=\"text-end\">總計</td>\r\n                                                <td class=\"text-end\">{{$filters.currency(this.shoppingcartdata.total)}}</td>\r\n                                            </tr>\r\n                                            <tr v-if=\"this.shoppingcartdata.final_total !== this.shoppingcartdata.total\">\r\n                                                <td colspan=\"3\" class=\"text-end text-success\">折扣後總計</td>\r\n                                                <td class=\"text-end text-success\">{{$filters.currency(this.shoppingcartdata.final_total)}}</td>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                    </table>\r\n                                    <div class=\"input-group mb-3 input-group-sm\">\r\n                                        <input type=\"text\" class=\"form-control\" placeholder=\"請輸入優惠碼\" v-model=\"coupon_code\">\r\n                                        <div class=\"input-group-append\">\r\n                                            <button class=\"btn btn-outline-secondary\" type=\"button\" @click.prevent=\"addCouponCode()\">\r\n                                                套用優惠碼\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-primary\"\r\n                        @click.prevent=\"$emit('cart-product', shoppingcartdata)\">確定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n<style>\r\n    .tabletrmodel td:nth-child(1){\r\n        width: 5%;\r\n    }\r\n    /* .tabletrmodel td:nth-child(1) button{\r\n        height: 16px;\r\n    } */\r\n    .tabletrmodel td:nth-child(2){\r\n        width: 15%;\r\n    }\r\n    .tabletrmodel td:nth-child(3){\r\n        width: 10%;\r\n    }\r\n    .tabletrmodel td:nth-child(4){\r\n        width: 20%;\r\n    }\r\n    @media(max-width: 414px){\r\n        .tabletrmodel td:nth-child(3){\r\n        width: 20%;\r\n    }\r\n}\r\n    input[type=number]::-webkit-outer-spin-button,\r\n    input[type=number]::-webkit-inner-spin-button {\r\n    -webkit-appearance: none;\r\n    margin: 0;\r\n    }\r\n</style>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        shoppingcart: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        shoppingcart () {\r\n            this.shoppingcartdata = this.shoppingcart;\r\n            this.coupon_code = '';\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            shoppingcartdata: {},\r\n            isLoading: false,\r\n            status: {\r\n                loadingItem: ''\r\n            },\r\n            coupon_code: ''\r\n        };\r\n    },\r\n    methods: {\r\n        delonecart (id) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n                this.$http.delete(api)\r\n                .then((res) => {\r\n                    if (res.data.success) {\r\n                        this.getcardata();\r\n                        this.isLoading = false;\r\n                    }\r\n                });\r\n        },\r\n        getcardata () {\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    if (res.data.success) {\r\n                        console.log(res);\r\n                        this.shoppingcartdata = res.data.data;\r\n                    }\r\n                });\r\n        },\r\n        updataCart (item) {\r\n            this.isLoading = true;\r\n            this.status.loadingItem = item.id;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\r\n            const cart = {\r\n                product_id: item.product_id,\r\n                qty: item.qty\r\n            };\r\n                this.$http.put(api, { data: cart })\r\n                .then((res) => {\r\n                    console.log(res);\r\n                    if (res.data.success) {\r\n                        this.getcardata();\r\n                        this.isLoading = false;\r\n                        this.status.loadingItem = '';\r\n                    }\r\n                });\r\n        },\r\n        addCouponCode () {\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\r\n            const Codedata = {\r\n                data: {\r\n                    code: this.coupon_code\r\n                }\r\n            };\r\n            this.$http.post(api, Codedata)\r\n            .then((res) => {\r\n                if (res.data.success) {\r\n                    console.log(res);\r\n                    this.getcardata();\r\n                }\r\n            });\r\n        }\r\n\r\n    },\r\n    emits: ['cart-product'],\r\n    mixins: [modalMixin]\r\n};\r\n</script>\r\n","import { render } from \"./shoppingcart.vue?vue&type=template&id=22eaca36\"\nimport script from \"./shoppingcart.vue?vue&type=script&lang=js\"\nexport * from \"./shoppingcart.vue?vue&type=script&lang=js\"\n\nimport \"./shoppingcart.vue?vue&type=style&index=0&id=22eaca36&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}