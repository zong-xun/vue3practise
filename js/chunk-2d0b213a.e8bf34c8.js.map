{"version":3,"sources":["webpack:///./src/views/products.vue","webpack:///./src/components/ProductModal.vue","webpack:///./src/components/ProductModal.vue?f7e1","webpack:///./src/components/DelModal.vue","webpack:///./src/components/DelModal.vue?813f","webpack:///./src/views/products.vue?4642"],"names":["class","_createElementVNode","width","_hoisted_1","type","onClick","$options","_hoisted_2","_hoisted_3","_createElementBlock","_Fragment","$data","item","key","id","category","title","_hoisted_4","_ctx","currency","origin_price","_hoisted_5","price","is_enabled","_hoisted_6","_hoisted_7","_hoisted_8","_createVNode","_component_Pagination","pages","onUpdataPage","_component_ProductModal","ref","product","onUpdataProduct","_component_DelModa","DelProductData","onDelProduct","_component_Loading","active","tabindex","aria-labelledby","aria-hidden","role","data-bs-dismiss","aria-label","for","_hoisted_9","placeholder","tempProduct","imageUrl","_hoisted_10","_hoisted_11","onChange","imagesUrl","_hoisted_12","image","alt","src","splice","length","push","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","unit","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","description","_hoisted_33","_hoisted_34","content","_hoisted_35","_hoisted_36","true-value","false-value","_hoisted_37","_hoisted_38","_hoisted_39","props","Object","defaule","watch","console","log","this","data","modal","rawmaterial","mixins","modalMixin","methods","uploadFile","$refs","fileinput","files","formdata","FormData","append","api","$http","post","then","res","success","__exports__","products","pagination","isNew","isLoading","components","ProductModal","DelModa","Pagination","inject","getproducts","page","get","openModel","productComponent","productModal","showModel","OpenDelModel","updatedProducts","httpMethod","response","hideModel","$httpMessageState","delProductfn","delete","created","render"],"mappings":"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","file":"js/chunk-2d0b213a.e8bf34c8.js","sourcesContent":["<template>\r\n    <div class=\"text-end\">\r\n        <button class=\"btn btn-primary\" type=\"button\" @click.prevent=\"openModel(true)\">\r\n            增加一個產品\r\n        </button>\r\n    </div>\r\n    <table class=\"table mt-4 table-striped\">\r\n        <thead>\r\n            <tr>\r\n                <th width=\"120\">分類</th>\r\n                <th>產品名稱</th>\r\n                <th width=\"120\">原價</th>\r\n                <th width=\"120\">售價</th>\r\n                <th width=\"100\">是否啟用</th>\r\n                <th width=\"200\">編輯</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr v-for=\"item in products\" :key = \"item.id\" >\r\n                <td>{{item.category}}</td>\r\n                <td>{{item.title}}</td>\r\n                <td class=\"text-right\">\r\n                    {{$filters.currency(item.origin_price)}}\r\n                </td>\r\n                <td class=\"text-right\">\r\n                    {{$filters.currency(item.price)}}\r\n                </td>\r\n                <td>\r\n                    <span class=\"text-success\" v-if=\"item.is_enabled == '1'\">啟用</span>\r\n                    <span class=\"text-muted\" v-else>未啟用</span>\r\n                </td>\r\n                <td>\r\n                    <div class=\"btn-group\">\r\n                        <button class=\"btn btn-outline-primary btn-sm\"  @click.prevent=\"openModel(false,item)\">編輯</button>\r\n                        <button class=\"btn btn-outline-danger btn-sm\" @click.prevent=\"OpenDelModel(item)\">刪除</button>\r\n                    </div>\r\n                </td>\r\n            </tr>\r\n        </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @updata-page = \"getproducts\"></Pagination>\r\n    <ProductModal ref=\"productModal\" :product=\"tempProduct\" @updata-product=\"updatedProducts\"></ProductModal>\r\n    <DelModa ref=\"OpenDelModel\" :DelProductData=\"tempProduct\" @del-product=\"delProductfn\"></DelModa>\r\n    <Loading :active=\"isLoading\"></Loading>\r\n</template>\r\n\r\n<script>\r\nimport Pagination from '../components/Pagination.vue';\r\nimport ProductModal from '../components/ProductModal.vue';\r\nimport DelModa from '../components/DelModal.vue';\r\nexport default {\r\n    data () {\r\n        return {\r\n            products: [],\r\n            pagination: {},\r\n            tempProduct: {},\r\n            isNew: false,\r\n            isLoading: false\r\n        };\r\n    },\r\n    components: {\r\n        ProductModal,\r\n        DelModa,\r\n        Pagination\r\n    },\r\n    inject: ['emitter'],\r\n    methods: {\r\n        getproducts (page = 1) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products?page=${page}`;\r\n                this.$http.get(api)\r\n                .then((res) => {\r\n                    this.isLoading = false;\r\n                    if (res.data.success) {\r\n                        this.products = res.data.products;\r\n                        this.pagination = res.data.pagination;\r\n                    }\r\n                });\r\n        },\r\n        openModel (isNew, item) {\r\n            if (isNew) {\r\n                this.tempProduct = {};\r\n            } else {\r\n                this.tempProduct = { ...item };\r\n            }\r\n            this.isNew = isNew;\r\n            const productComponent = this.$refs.productModal;\r\n            productComponent.showModel();\r\n        },\r\n        OpenDelModel (item) {\r\n            const productComponent = this.$refs.OpenDelModel;\r\n            this.tempProduct = { ...item };\r\n            productComponent.showModel();\r\n        },\r\n        updatedProducts (item) {\r\n            this.tempProduct = item;\r\n            this.isLoading = true;\r\n            // 新增\r\n            let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\r\n            let httpMethod = 'post';\r\n            // 編輯\r\n            if (!this.isNew) {\r\n                api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\r\n                httpMethod = 'put';\r\n            }\r\n            const productComponent = this.$refs.productModal;\r\n                this.$http[httpMethod](api, { data: this.tempProduct })\r\n                .then((response) => {\r\n                    this.isLoading = false;\r\n                    productComponent.hideModel();\r\n                    if (response.data.success) {\r\n                        this.getproducts();\r\n                        if (!this.isNew) {\r\n                            this.$httpMessageState(response, '編輯成功');\r\n                        } else {\r\n                            this.$httpMessageState(response, '商品建立成功');\r\n                        }\r\n                    } else {\r\n                        if (!this.isNew) {\r\n                            this.$httpMessageState(response, '更新失敗');\r\n                        } else {\r\n                            this.$httpMessageState(response, '商品建立失敗');\r\n                        }\r\n                    }\r\n                });\r\n        },\r\n        delProductfn (item) {\r\n            this.isLoading = true;\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item}`;\r\n            const productComponent = this.$refs.OpenDelModel;\r\n                this.$http.delete(api, { data: this.tempProduct })\r\n                .then((response) => {\r\n                    console.log(response);\r\n                    this.isLoading = false;\r\n                    productComponent.hideModel();\r\n                    if (response.data.success) {\r\n                        this.getproducts();\r\n                        this.$httpMessageState(response, '刪除成功');\r\n                    } else {\r\n                        this.$httpMessageState(response, '刪除失敗');\r\n                    }\r\n                });\r\n        }\r\n    },\r\n    created () {\r\n        this.getproducts();\r\n    }\r\n};\r\n</script>\r\n","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"\r\n        ref=\"modal\">\r\n        <!-- 請同學自行新增 v-model -->\r\n        <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n            <div class=\"modal-content border-0\">\r\n                <div class=\"modal-header bg-dark text-white\">\r\n                    <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                        <span>新增產品</span>\r\n                    </h5>\r\n                    <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-sm-4\">\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"image\" placeholder=\"請輸入圖片連結\"\r\n                                    v-model=\"this.tempProduct.imageUrl\">\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                                    <i class=\"fas fa-spinner fa-spin\"></i>\r\n                                </label>\r\n                                <input type=\"file\" id=\"customFile\" class=\"form-control\" @change=\"uploadFile\"\r\n                                    ref=\"fileinput\">\r\n                            </div>\r\n                            <!-- 延伸技巧，多圖 -->\r\n                            <div class=\"mt-5\" v-if=\"tempProduct.imagesUrl\">\r\n                                <div v-for=\"(image, key) in tempProduct.imagesUrl\" class=\"mb-3 input-group\" :key=\"key\">\r\n                                    <img class=\"img-fluid\" alt=\"\" :src=\"image\">\r\n                                    <input type=\"url\" class=\"form-control form-control\"\r\n                                        v-model=\"tempProduct.imagesUrl[key]\" placeholder=\"請輸入連結\" />\r\n                                    <button type=\"button\" class=\"btn btn-outline-danger\"\r\n                                        @click=\"tempProduct.imagesUrl.splice(key, 1)\">\r\n                                        移除\r\n                                    </button>\r\n                                </div>\r\n                                <div v-if=\"\r\n                                    tempProduct.imagesUrl[tempProduct.imagesUrl.length - 1] || !tempProduct.imagesUrl.length\r\n                                \">\r\n                                    <button class=\"btn btn-outline-primary btn-sm d-block w-100\"\r\n                                        @click=\"tempProduct.imagesUrl.push('')\">\r\n                                        新增圖片\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-sm-8\">\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"title\" class=\"form-label\">標題</label>\r\n                                <input type=\"text\" class=\"form-control\" id=\"title\" placeholder=\"請輸入標題\"\r\n                                    v-model=\"this.tempProduct.title\">\r\n                            </div>\r\n\r\n                            <div class=\"row gx-2\">\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"category\" class=\"form-label\">分類</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"category\" placeholder=\"請輸入分類\"\r\n                                        v-model=\"this.tempProduct.category\">\r\n                                </div>\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"price\" class=\"form-label\">單位</label>\r\n                                    <input type=\"text\" class=\"form-control\" id=\"unit\" placeholder=\"請輸入單位\"\r\n                                        v-model=\"this.tempProduct.unit\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"row gx-2\">\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                                    <input type=\"number\" class=\"form-control\" id=\"origin_price\" placeholder=\"請輸入原價\"\r\n                                        v-model=\"this.tempProduct.origin_price\">\r\n                                </div>\r\n                                <div class=\"mb-3 col-md-6\">\r\n                                    <label for=\"price\" class=\"form-label\">售價</label>\r\n                                    <input type=\"number\" class=\"form-control\" id=\"price\" placeholder=\"請輸入售價\"\r\n                                        v-model=\"this.tempProduct.price\">\r\n                                </div>\r\n                            </div>\r\n                            <hr>\r\n\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"description\" placeholder=\"請輸入產品描述\"\r\n                                    v-model=\"this.tempProduct.description\"></textarea>\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                                <textarea type=\"text\" class=\"form-control\" id=\"content\" placeholder=\"請輸入產品說明內容\"\r\n                                    v-model=\"this.tempProduct.content\"></textarea>\r\n                            </div>\r\n                            <div class=\"mb-3\">\r\n                                <div class=\"form-check\">\r\n                                    <input class=\"form-check-input\" type=\"checkbox\" :true-value=\"1\" :false-value=\"0\"\r\n                                        id=\"is_enabled\" v-model=\"this.tempProduct.is_enabled\">\r\n                                    <label class=\"form-check-label\" for=\"is_enabled\">\r\n                                        是否啟用\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消\r\n                    </button>\r\n                    <button type=\"button\" class=\"btn btn-primary\"\r\n                        @click.prevent=\"$emit('updata-product', tempProduct)\">確認</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        product: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        product () {\r\n            console.log(this.product);\r\n            this.tempProduct = this.product;\r\n            console.log(this.tempProduct);\r\n            // 多圖範例\r\n            if (!this.tempProduct.imagesUrl) {\r\n                this.tempProduct.imagesUrl = [];\r\n            }\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {},\r\n            rawmaterial: {}\r\n        };\r\n    },\r\n    mixins: [modalMixin],\r\n    methods: {\r\n        uploadFile () {\r\n            const uploadFile = this.$refs.fileinput.files[0];\r\n            const formdata = new FormData();\r\n            formdata.append('file-to-upload', uploadFile);\r\n            console.log(formdata);\r\n            const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n            this.$http.post(api, formdata)\r\n                .then((res) => {\r\n                    if (res.data.success) {\r\n                        this.tempProduct.imagesUrl.push(res.data.imageUrl);\r\n                        // this.tempProduct.imageUrl = res.data.imageUrl;\r\n                    }\r\n                });\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import { render } from \"./ProductModal.vue?vue&type=template&id=0f9092c8\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n        <div class=\"modal-dialog modal-dialog-centered\">\r\n            <div class=\"modal-content\">\r\n                <div class=\"modal-header bg-danger\">\r\n                    <h5 class=\"modal-title text-light\" id=\"exampleModalLabel\">刪除產品</h5>\r\n                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                    是否確定要刪除【{{this.tempProduct.title}}】\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n                    <button type=\"button\" class=\"btn btn-danger\"  @click.prevent=\"$emit('del-product',tempProduct.id)\">確定</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport modalMixin from '@/Mixin/modalMixin';\r\nexport default {\r\n    props: {\r\n        DelProductData: {\r\n            type: Object,\r\n            defaule () {\r\n                return {};\r\n            }\r\n        }\r\n    },\r\n    watch: {\r\n        DelProductData () {\r\n            this.tempProduct = this.DelProductData;\r\n            console.log(this.DelProductData.title);\r\n        }\r\n    },\r\n    data () {\r\n        return {\r\n            modal: {},\r\n            tempProduct: {}\r\n        };\r\n    },\r\n    methods () {\r\n\r\n    },\r\n    mixins: [modalMixin]\r\n};\r\n</script>\r\n","import { render } from \"./DelModal.vue?vue&type=template&id=0ff351bf\"\nimport script from \"./DelModal.vue?vue&type=script&lang=js\"\nexport * from \"./DelModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./products.vue?vue&type=template&id=53fc2583\"\nimport script from \"./products.vue?vue&type=script&lang=js\"\nexport * from \"./products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Wu\\\\Desktop\\\\前端練習\\\\vueCli_work\\\\demo\\\\e-commerce\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}